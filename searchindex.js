Search.setIndex({"docnames": ["concepts/experiment_arguments", "concepts/trainer", "getting_started/installation", "getting_started/logging_and_visualization", "getting_started/project_structure", "getting_started/running_an_experiment", "getting_started/running_an_experiment_accelerate", "index", "reference/FAQ", "reference/changelog", "reference/conduct", "reference/contributing"], "filenames": ["concepts/experiment_arguments.md", "concepts/trainer.md", "getting_started/installation.md", "getting_started/logging_and_visualization.md", "getting_started/project_structure.md", "getting_started/running_an_experiment.md", "getting_started/running_an_experiment_accelerate.md", "index.md", "reference/FAQ.md", "reference/changelog.md", "reference/conduct.md", "reference/contributing.md"], "titles": ["Experiment arguments", "Trainer", "Installation", "Logging and Visualization", "Project Structure", "Running an experiment", "Running an experiment using HuggingFace Accelerate", "Welcome to AudioZEN", "FAQ", "Changelog", "Code of Conduct", "Contributing"], "terms": {"audiozen": [0, 1, 4, 5, 6], "us": [0, 1, 2, 3, 4, 5, 7, 8, 11], "manag": [0, 2], "each": [0, 1, 4, 5, 6, 11], "i": [0, 1, 2, 3, 4, 5, 6, 7, 10, 11], "which": [0, 1, 2, 3, 4, 5, 6, 11], "contain": [0, 1, 3, 4, 11], "inform": [0, 3], "loss": [0, 1, 4], "function": [0, 1, 4], "learn": [0, 2, 4, 7], "rate": 0, "schedul": 0, "featur": [0, 11], "basenam": 0, "id": 0, "identifi": 0, "you": [0, 1, 2, 4, 5, 6, 11], "can": [0, 2, 3, 4, 5, 6, 11], "track": 0, "chang": [0, 2, 4, 11], "version": [0, 2, 11], "control": [0, 5, 6, 11], "reproduc": [0, 4], "same": 0, "For": [0, 1, 2, 4, 5, 6], "more": [0, 2, 4, 5, 6, 7, 8], "syntax": 0, "visit": 0, "websit": 0, "thi": [0, 1, 4, 5, 6, 10, 11], "demonstr": 0, "mani": [0, 11], "set": 0, "avail": 0, "save_dir": [0, 3], "sdnn_delai": [0, 3, 4, 5, 6], "exp": [0, 3], "seed": 0, "0": [0, 2, 3, 5, 6], "use_amp": 0, "fals": [0, 5, 6], "use_deterministic_algorithm": 0, "arg": 0, "max_epoch": 0, "9999": 0, "clip_grad_norm_valu": 0, "5": 0, "n_fft": 0, "512": 0, "win_length": 0, "256": 0, "sr": 0, "16000": 0, "hop_length": 0, "softdtwloss": 0, "gamma": 0, "1": [0, 2, 5, 6], "torch": [0, 5, 6], "radam": 0, "lr": 0, "01": 0, "weight_decai": 0, "1e": 0, "threshold": 0, "tau_grad": 0, "scale_grad": 0, "8": 0, "max_delai": 0, "64": 0, "out_delai": 0, "check": [0, 2, 5, 6, 7, 8], "ani": [0, 2, 4], "recip": [0, 2, 4, 5, 6], "directori": [0, 3, 4, 5, 6], "In": [0, 2, 4, 5, 6], "we": [0, 1, 2, 3, 4, 5, 6], "must": [0, 1, 2], "follow": [0, 1, 2, 3, 4, 5, 6, 10, 11], "etc": [0, 4, 11], "The": [0, 1, 2, 3, 4, 5, 6, 11], "item": 0, "descript": [0, 5, 6], "where": 0, "save": [0, 4], "log": [0, 1, 7], "checkpoint": [0, 3, 5, 6], "enhanc": [0, 1, 3], "audio": [0, 1, 2, 3, 4, 7], "store": [0, 3], "random": [0, 5, 6], "initi": 0, "number": [0, 11], "gener": [0, 4, 11], "whether": [0, 1], "automat": [0, 11], "mix": 0, "precis": 0, "amp": 0, "acceler": [0, 2], "train": [0, 1, 2, 3, 4], "nondeterminist": 0, "algorithm": 0, "If": [0, 2, 4], "true": [0, 1], "slower": 0, "It": [0, 1, 4, 5, 6], "two": [0, 1, 2, 5, 6], "part": 0, "string": 0, "specifi": [0, 11], "class": [0, 4], "dictionari": 0, "should": [0, 1], "like": [0, 2, 11], "100": 0, "exampl": [0, 1, 2, 4, 5, 6], "custom": [0, 1], "from": [0, 1, 5, 6], "py": [0, 4], "python": [0, 2, 5, 6], "search": 0, "ar": [0, 2, 4, 11], "abl": 0, "multipl": [0, 5, 6], "wai": [0, 4], "see": [0, 5, 6], "next": 0, "subclass": 0, "base_train": [0, 1], "basetrain": [0, 1], "support": [0, 2, 3, 5, 6], "least": [0, 2, 11], "default": [0, 5, 6], "maximum": 0, "epoch": [0, 1, 5, 6], "norm": 0, "gradient": 0, "clip": 0, "mean": [0, 5, 6, 11], "save_max_scor": 0, "find": [0, 11], "best": [0, 1, 5, 6], "score": [0, 1], "save_ckpt_interv": 0, "interv": 0, "patienc": 0, "10": [0, 2], "improv": [0, 11], "after": [0, 4, 5, 6], "stop": 0, "plot_norm": 0, "plot": 0, "validation_interv": 0, "valid": [0, 1, 4, 5, 6, 8], "max_num_checkpoint": 0, "keep": [0, 11], "too": 0, "caus": 0, "disk": 0, "space": [0, 11], "run": [0, 3, 4, 7], "out": [0, 3], "have": [0, 1, 2, 4, 5, 6], "structur": [0, 5, 6, 7], "intel_ndn": [0, 4, 5, 6], "readm": 0, "md": 0, "baselin": [0, 3, 4, 5, 6], "case": [0, 5, 6], "call": [0, 1, 2, 4, 5, 6], "custom_train": 0, "customtrain": 0, "want": [0, 1, 5, 6], "get": 0, "packag": [0, 4, 5, 6], "instal": [0, 4, 7], "edit": [0, 4], "pip": [0, 2], "e": [0, 2], "first": [0, 2, 4, 5, 6], "respect": 0, "thei": 0, "logic": [0, 1], "mai": [0, 1, 2, 4, 5, 6], "provid": [0, 2, 4, 5, 6], "pytorch": [0, 2, 5, 6, 8], "implement": [0, 1], "your": [0, 1, 2, 4], "own": [0, 1], "mseloss": 0, "nn": 0, "myloss": 0, "weight": 0, "even": 0, "doe": [0, 5, 6], "need": [0, 1, 2, 5, 6, 11], "steplr": 0, "step_siz": 0, "These": 0, "whole": 0, "project": [0, 7, 10], "visual": [0, 7], "except": 0, "dataload": [0, 1, 4, 5, 6], "them": [0, 4, 5, 6], "place": 0, "fft": 0, "point": 0, "between": 0, "success": 0, "frame": 0, "length": 0, "stft": 0, "window": 0, "experi": [1, 4, 7, 11], "defin": 1, "model": [1, 3, 4, 5, 6, 8], "inherit": 1, "method": 1, "training_step": 1, "step": [1, 2], "oper": [1, 4], "execut": [1, 4], "iter": 1, "training_epoch_end": 1, "end": 1, "validation_step": 1, "validation_epoch_end": 1, "test_step": 1, "test": [1, 2, 3, 4, 5, 6, 11], "test_epoch_end": 1, "self": 1, "batch": 1, "batch_idx": 1, "here": [1, 2, 5, 6, 11], "input": 1, "output": 1, "tensor": 1, "persuad": 1, "code": [1, 2, 4, 7, 11], "rang": 1, "start_epoch": 1, "end_epoch": 1, "training_epoch_output": 1, "batch_index": 1, "zero_grad": 1, "backward": 1, "optim": 1, "append": 1, "save_checkpoint": 1, "some_condit": 1, "best_scor": 1, "paramet": [1, 3, 5, 6], "data": [1, 2, 4], "pass": 1, "index": 1, "current": [1, 3, 4], "return": 1, "type": [1, 11], "when": [1, 3], "list": [1, 10], "valu": [1, 3], "level": 1, "dataloader_idx": 1, "validation_output": 1, "loss_or_data": 1, "validation_epoch_output": 1, "signal": [1, 2, 4, 7], "dataloader_1_batch_1_output": 1, "dataloader_1_batch_2_output": 1, "dataloader_2_batch_1_output": 1, "dataloader_2_batch_2_output": 1, "metric": 1, "determin": 1, "similar": 1, "load_checkpoint": 1, "ckpt_path": [1, 5, 6], "test_epoch_output": 1, "built": 2, "top": 2, "standard": [2, 11], "process": [2, 3, 4, 7, 11], "deep": [2, 4, 7], "tool": [2, 4, 11], "To": [2, 5, 6], "binari": 2, "one": [2, 11], "anaconda": 2, "miniconda": 2, "recommend": 2, "all": [2, 4], "sandbox": 2, "includ": [2, 4, 5, 6, 10], "gpu": 2, "parallel": 2, "cuda": 2, "2": [2, 5, 6], "higher": 2, "correspond": [2, 5, 6], "cudnn": 2, "librari": 2, "3": 2, "also": 2, "other": [2, 10], "name": [2, 4], "activ": 2, "assum": [2, 3], "some": [2, 5, 6], "lava": [2, 5, 6], "tensorboard": [2, 3], "instead": [2, 8], "capabl": 2, "although": 2, "12": 2, "ha": [2, 3, 5, 6], "been": [2, 3], "11": 2, "6": [2, 8], "an": [2, 7], "torchvis": 2, "13": 2, "torchaudio": 2, "cudatoolkit": 2, "c": [2, 5, 6], "forg": 2, "dl": [2, 5, 6], "neuromorph": [2, 4, 5, 6], "comput": 2, "detail": [2, 4, 5, 6, 7, 8], "joblib": 2, "matplotlib": 2, "option": [2, 4, 11], "mp3": 2, "format": [2, 11], "dataset": [2, 4, 5, 6], "ffmpeg": 2, "clone": 2, "repositori": [2, 11], "via": 2, "r": [2, 5, 6], "requir": 2, "txt": 2, "git": [2, 11], "github": [2, 11], "com": 2, "haoxiangsnr": 2, "cd": [2, 5, 6], "final": 2, "k": 2, "develop": 2, "By": [2, 11], "everywher": [2, 4], "g": 2, "folder": [2, 4], "addit": [2, 4], "modifi": [2, 4], "sourc": [2, 4], "directli": [2, 4, 5, 6], "origin": [2, 4], "would": [2, 4], "reflect": [2, 4], "ok": 2, "done": 2, "speed": 2, "up": 2, "mamba": 2, "thu": 2, "mirror": 2, "site": 2, "now": 3, "complet": 3, "filenam": 3, "configur": [3, 4, 5, 6, 11], "file": [3, 4], "toml": [3, 4, 5, 6], "Then": [3, 5, 6], "config__2023_01_13": 3, "10_27_42": 3, "tb_log": 3, "event": 3, "tfevent": 3, "1673576862": 3, "vm": 3, "97": 3, "67": 3, "ubuntu": 3, "3747605": 3, "config__2023_04_13": 3, "backup": 3, "mode": [3, 4, 5, 6], "through": 3, "onli": [3, 11], "baslin": 3, "command": [3, 5, 6], "logdir": 3, "bind_al": 3, "befor": [4, 5, 6], "go": [4, 5, 6], "let": [4, 5, 6], "": [4, 7, 10], "take": 4, "look": [4, 11], "overal": 4, "familiar": 4, "espnet": 4, "speechbrain": 4, "inspir": 4, "flexibl": 4, "simpler": 4, "core": 4, "seri": 4, "common": 4, "trainer": [4, 7], "As": [4, 5, 6], "environ": [4, 5, 6], "specif": 4, "preprocess": 4, "research": [4, 7], "speech": [4, 7], "concept": [4, 11], "wa": 4, "introduc": 4, "kaldi": 4, "conveni": [4, 5, 6], "organ": 4, "pipelin": 4, "acoust": 4, "modul": [4, 8], "doc": [4, 11], "notebook": 4, "load": 4, "definit": 4, "evalu": 4, "document": [4, 7, 10, 11], "sphinx": 4, "build": [4, 11], "convers": 4, "subdirectori": 4, "creat": 4, "intel": [4, 5, 6], "dn": [4, 5, 6], "challeng": [4, 5, 6], "commonli": 4, "infer": 4, "script": [4, 5, 6], "entri": 4, "entir": 4, "sdnn": 4, "exp_id": 4, "round": 4, "present": [4, 11], "dns_icassp_2020": 4, "mention": [5, 6], "previou": [5, 6], "section": [5, 6, 7], "adopt": [5, 6], "dedic": [5, 6], "u": [5, 6], "torchrun": [5, 6], "standalon": [5, 6], "nnode": [5, 6], "nproc_per_nod": [5, 6], "m": [5, 6], "start": [5, 6], "isn": [5, 6], "t": [5, 6, 8], "magic": [5, 6], "superset": [5, 6], "distribut": [5, 6], "launch": [5, 6], "offici": [5, 6], "help": [5, 6], "Its": [5, 6], "just": [5, 6], "console_entrypoint": [5, 6], "ad": [5, 6], "versu": [5, 6], "elast": [5, 6], "none": [5, 6], "predict": [5, 6], "finetun": [5, 6], "combin": [5, 6], "resum": [5, 6], "latest": [5, 6], "path": [5, 6], "most": [5, 6], "show": [5, 6], "how": [5, 6, 11], "base": [5, 6, 11], "actual": [5, 6], "suspend": [5, 6], "last": [5, 6], "sinc": [5, 6], "occupi": [5, 6], "distributeddataparallel": [5, 6], "ddp": [5, 6], "listen": [5, 6], "port": [5, 6], "29500": [5, 6], "make": [5, 6], "sure": [5, 6], "instanc": [5, 6], "job": [5, 6], "setup": [5, 6], "differ": [5, 6], "avoid": [5, 6, 11], "conflict": [5, 6], "Or": [5, 6], "rdzv_endpoint": [5, 6], "localhost": [5, 6], "select": [5, 6], "unus": [5, 6], "rdzv_backend": [5, 6], "c10d": [5, 6], "perform": [5, 6, 11], "don": [5, 6], "forget": [5, 6], "variabl": [5, 6, 11], "cuda_visible_devic": [5, 6], "usag": [5, 6], "second": [5, 6], "export": [5, 6], "cuda_visiable_devic": [5, 6], "toolkit": 7, "conduct": 7, "argument": 7, "faq": 7, "changelog": 7, "contribut": 7, "dure": 8, "http": 8, "discuss": 8, "org": 8, "114522": 8, "everyon": 10, "interact": 10, "codebas": 10, "expect": 10, "pypa": 10, "limit": 10, "issu": [10, 11], "tracker": 10, "chat": 10, "room": 10, "mail": 10, "virtual": 10, "real": 10, "life": 10, "commun": 10, "hi": 11, "flow": 11, "main": 11, "branch": 11, "speak": 11, "alwai": 11, "direct": 11, "integr": 11, "rebas": 11, "merg": 11, "new": 11, "bug": 11, "fix": 11, "refactor": 11, "work": 11, "well": 11, "angular": 11, "style": 11, "scope": 11, "short": 11, "summari": 11, "tens": 11, "bodi": 11, "explain": 11, "motiv": 11, "footer": 11, "note": 11, "break": 11, "close": 11, "kind": 11, "made": 11, "usual": 11, "feat": 11, "A": 11, "do": 11, "affect": 11, "white": 11, "miss": 11, "semi": 11, "colon": 11, "neither": 11, "nor": 11, "add": 11, "perf": 11, "framework": 11, "messag": 11, "continu": 11, "bump": 11, "keyword": 11, "profession": 11, "tutori": 11, "master": 11, "write": 11, "thing": 11, "circular": 11, "depend": 11, "global": 11, "state": 11}, "objects": {"audiozen.trainer.base_trainer.BaseTrainer": [[1, 0, 1, "", "test_epoch_end"], [1, 0, 1, "", "test_step"], [1, 0, 1, "", "training_epoch_end"], [1, 0, 1, "", "training_step"], [1, 0, 1, "", "validation_epoch_end"], [1, 0, 1, "", "validation_step"]]}, "objtypes": {"0": "py:function"}, "objnames": {"0": ["py", "function", "Python function"]}, "titleterms": {"experi": [0, 5, 6], "argument": 0, "sampl": 0, "toml": 0, "file": [0, 5, 6], "configur": 0, "detail": 0, "meta": 0, "section": 0, "trainer": [0, 1], "load": 0, "modul": 0, "path": 0, "loss_funct": 0, "optim": 0, "lr_schedul": 0, "model": 0, "dataset": 0, "acoust": 0, "instal": 2, "prerequisit": 2, "creat": 2, "virtual": 2, "environ": 2, "conda": 2, "depend": 2, "pypi": 2, "audiozen": [2, 7], "packag": 2, "edit": 2, "mode": 2, "refer": [2, 11], "log": 3, "visual": 3, "project": 4, "structur": 4, "run": [5, 6], "an": [5, 6], "entri": [5, 6], "py": [5, 6], "singl": [5, 6], "machin": [5, 6], "multi": [5, 6], "gpu": [5, 6], "train": [5, 6], "us": 6, "huggingfac": 6, "acceler": 6, "welcom": 7, "get": 7, "start": 7, "concept": 7, "about": 7, "faq": 8, "torch": 8, "distribut": 8, "barrier": 8, "hang": 8, "ddp": 8, "changelog": 9, "code": 10, "conduct": 10, "contribut": 11, "develop": 11, "workflow": 11, "commit": 11, "principl": 11}, "envversion": {"sphinx.domains.c": 2, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 8, "sphinx.domains.index": 1, "sphinx.domains.javascript": 2, "sphinx.domains.math": 2, "sphinx.domains.python": 3, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx.ext.viewcode": 1, "sphinx": 57}, "alltitles": {"Experiment arguments": [[0, "experiment-arguments"]], "Sample *.toml file": [[0, "sample-toml-file"]], "Configuration details": [[0, "configuration-details"]], "meta section": [[0, "meta-section"]], "trainer section": [[0, "trainer-section"]], "Loading a module by path argument": [[0, "loading-a-module-by-path-argument"]], "loss_function, optimizer, lr_scheduler, model, and dataset sections": [[0, "loss-function-optimizer-lr-scheduler-model-and-dataset-sections"]], "acoustics section": [[0, "acoustics-section"]], "Trainer": [[1, "trainer"]], "Installation": [[2, "installation"], [2, "id1"]], "Prerequisites": [[2, "prerequisites"]], "Create virtual environment": [[2, "create-virtual-environment"]], "Install Conda dependencies": [[2, "install-conda-dependencies"]], "Install PyPI dependencies": [[2, "install-pypi-dependencies"]], "Install AudioZEN package in editable mode": [[2, "install-audiozen-package-in-editable-mode"]], "References": [[2, "references"], [11, "references"]], "Logging and Visualization": [[3, "logging-and-visualization"]], "Project Structure": [[4, "project-structure"]], "Running an experiment": [[5, "running-an-experiment"]], "Entry file run.py": [[5, "entry-file-run-py"], [6, "entry-file-run-py"]], "Single-machine multi-GPU training": [[5, "single-machine-multi-gpu-training"], [6, "single-machine-multi-gpu-training"]], "Running an experiment using HuggingFace Accelerate": [[6, "running-an-experiment-using-huggingface-accelerate"]], "Welcome to AudioZEN": [[7, "welcome-to-audiozen"]], "Getting Started": [[7, null]], "Concepts": [[7, null]], "About": [[7, null]], "FAQ": [[8, "faq"]], "torch.distributed.barrier() hangs in DDP": [[8, "torch-distributed-barrier-hangs-in-ddp"]], "Changelog": [[9, "changelog"]], "Code of Conduct": [[10, "code-of-conduct"]], "Contributing": [[11, "contributing"]], "Development workflow": [[11, "development-workflow"]], "Commit": [[11, "commit"]], "Development Principles": [[11, "development-principles"]]}, "indexentries": {"test_epoch_end() (in module audiozen.trainer.base_trainer.basetrainer)": [[1, "audiozen.trainer.base_trainer.BaseTrainer.test_epoch_end"]], "test_step() (in module audiozen.trainer.base_trainer.basetrainer)": [[1, "audiozen.trainer.base_trainer.BaseTrainer.test_step"]], "training_epoch_end() (in module audiozen.trainer.base_trainer.basetrainer)": [[1, "audiozen.trainer.base_trainer.BaseTrainer.training_epoch_end"]], "training_step() (in module audiozen.trainer.base_trainer.basetrainer)": [[1, "audiozen.trainer.base_trainer.BaseTrainer.training_step"]], "validation_epoch_end() (in module audiozen.trainer.base_trainer.basetrainer)": [[1, "audiozen.trainer.base_trainer.BaseTrainer.validation_epoch_end"]], "validation_step() (in module audiozen.trainer.base_trainer.basetrainer)": [[1, "audiozen.trainer.base_trainer.BaseTrainer.validation_step"]]}})